<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<title>page</title>
	<link rel="stylesheet" href="../scripts/lib/seedsui/seedsui.min.css">
</head>

<body ontouchstart="">
	<section id="page_0">
		<header>
		  <div class="titlebar">
		    <a href="javascript:history.go(-1)">
	            <i class="icon icon-arrowleft"></i>
	        </a>
		    <h1>单页模式</h1>
		  </div>
		</header>
		<article>
			<a class="button block margin8 bg-1" href="#page_1" data-toggle="page">slideLeft</a>
		    <a class="button block margin8 bg-2" href="#page_2" data-toggle="page">slideRight</a>
		    <a class="button block margin8 bg-3" href="#page_3" data-toggle="page">slideUp</a>
		    <a class="button block margin8 bg-4" href="#page_4" data-toggle="page">slideDown</a>
		    <a class="button block margin8 bg-5" href="#page_5" data-toggle="page">fade</a>
		    <a class="button block margin8 bg-6" href="#page_6" data-toggle="page">zoom</a>
		    <a class="button block margin8 bg-7" href="#page_7" data-toggle="page">none</a>
		    <a type="button" class="button block margin8 bg-8" onclick="openPage('#page_2')">用JS打开打二页</a>
		    <div class="card padding8">
		    	因为用到了popstate，涉及到跨域的问题，所以此页面需要在服务器上运行
		    </div>
		    <div class="card padding8">
		    	适用于简单的单页处理，如需要大量使用单页模式，还请使用专业的backbone router或者angularjs router框架处理单页。
		    </div>
		</article>
	</section>
	<!--page1-->
	<section id="page_1" data-animation="slideLeft" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>slideLeft</h1>
		  </div>
		</header>
		<article>
			<a class="button block margin8 bg-1" target="_self" href="#page_1_close" data-toggle="page">_self打开下一页</a>
			<a class="button block margin8 bg-2" href="#page_1_close" data-toggle="page">_blank打开下一页</a>
		</article>
	</section>
	<!--page1_close-->
	<section id="page_1_close" data-animation="slideLeft" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>slideLeft</h1>
		  </div>
		</header>
		<article>
			Close页面
		</article>
	</section>
	<!--page2-->
	<section id="page_2" data-animation="slideRight" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>slideRight</h1>
		  </div>
		</header>
		<article>
			slideRight
		</article>
	</section>
	<!--page3-->
	<section id="page_3" data-animation="slideUp" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
	            <i class="icon icon-arrowleft"></i>
	        </a>
		    <h1>slideUp</h1>
		  </div>
		</header>
		<article>
			slideUp
		</article>
	</section>
	<!--page4-->
	<section id="page_4" data-animation="slideDown" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
	            <i class="icon icon-arrowleft"></i>
	        </a>
		    <h1>slideDown</h1>
		  </div>
		</header>
		<article>
			slideDown
		</article>
	</section>
	<!--page5-->
	<section id="page_5" data-animation="fade" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>fade</h1>
		  </div>
		</header>
		<article>
			fade
		</article>
	</section>
	<!--page6-->
	<section id="page_6" data-animation="zoom" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>zoom</h1>
		  </div>
		</header>
		<article>
			zoom
		</article>
	</section>
	<!--page7-->
	<section id="page_7" data-animation="none" class="page" style="background-color:#f4f4f4;">
		<header>
		  <div class="titlebar">
		    <a class="titlebar-button" href="javascript:back()">
			            <i class="icon icon-arrowleft"></i>
			        </a>
		    <h1>none</h1>
		  </div>
		</header>
		<article>
			none
		</article>
	</section>
    <script src="../scripts/lib/seedsui/seedsui.min.js"></script>
    <!--Exmobi能力-->
    <!--<script src="../scripts/lib/exmobi/exmobi.js"></script>-->
	<script>
		var singlePage=new Page({
			"onLoad":function(e){
				var targetPageId;
				if(e.isRoot){
					console.log("根页面");
				}else{
					console.log("当前页面ID:"+e.targetPageId);
					//console.log("当前页面:"+e.targetPage);
				}
			},
			/*"onOpenEnd":function(e){
				console.log("点击了：");
				console.log(e.target);
				console.log("已经打开：");
				console.log(e.targetPage);
			},
			"onCloseEnd":function(e){
				console.log("点击了：");
				console.log(e.target);
				console.log("已经关闭：");
				console.log(e.targetPage);
			}*/
		});
		//打指定页
		function openPage(id,target){
			var openType=target||"";
			singlePage.open(id,openType);
		}
		//关闭指定页面(仅在不记录浏览器历史记录时使用，否则会导致层级混乱)
		function closePage(id,animation){
			singlePage.close(id,animation);
		}
		
		//定义exmobi返回
		function back(){
			history.go(-1);
			/*if(window.location.href.indexOf("http")>=0){
				history.go(-1)
			}else{
				singlePage.back();
			}*/
		}
	</script>
</body>
</html>